DROP TABLE APP.MESSAGE;

DROP TABLE APP.HISTORY;

DROP TABLE APP.FILE;

DROP TABLE APP.CLIENT;


CREATE TABLE APP.CLIENT (
	ID         	INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL,
	CLIENT_NAME	VARCHAR(25)
	);

CREATE TABLE APP.FILE (
	ID           	INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL,
	FK_MESSAGE_ID	INTEGER NOT NULL,
	FILE_NAME    	VARCHAR(80) NOT NULL,
	FILE_PATH    	VARCHAR(80) NOT NULL
	);

CREATE TABLE APP.HISTORY (
	ID           	INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL,
	FK_MESSAGE_ID	INTEGER NOT NULL,
	TIMESTAMP    	TIMESTAMP NOT NULL,
	STATE        	VARCHAR(25) NOT NULL
	);

CREATE TABLE APP.MESSAGE (
	ID         	INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL,
	CLIENT_NAME	VARCHAR(25),
	PAYLOAD    	VARCHAR(2000)
	);