<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Jun 04 07:40:59 UTC 2014 -->
<title>MailTransportListener</title>
<meta name="date" content="2014-06-04">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MailTransportListener";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>AdroitLogic UltraESB v2.3.0</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/adroitlogic/ultraesb/transport/mail/MailTransportSender.html" title="class in org.adroitlogic.ultraesb.transport.mail"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/adroitlogic/ultraesb/transport/mail/MailTransportListener.html" target="_top">Frames</a></li>
<li><a href="MailTransportListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.adroitlogic.ultraesb.transport.mail</div>
<h2 title="Class MailTransportListener" class="title">Class MailTransportListener</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.adroitlogic.ultraesb.core.config.AbstractConfigurationElement</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html" title="class in org.adroitlogic.ultraesb.transport.base">org.adroitlogic.ultraesb.transport.base.AbstractTransportListener</a></li>
<li>
<ul class="inheritance">
<li>org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener</li>
<li>
<ul class="inheritance">
<li>org.adroitlogic.ultraesb.transport.mail.MailTransportListener</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/adroitlogic/ultraesb/api/ConfigurationElement.html" title="interface in org.adroitlogic.ultraesb.api">ConfigurationElement</a>, org.springframework.beans.factory.Aware, org.springframework.beans.factory.BeanNameAware</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MailTransportListener</span>
extends org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener</pre>
<div class="block"><p>The Email transport listener supporting POP3 and IMAP both with and without SSL</p>

 <p>Most of the email transport configuration is performed at the transport configuration section of the
 Proxy service using the email transport. However, the standard Java POP3 or IMAP properties could be set
 at the email listener level (See sample # 501). Proxy services are triggered either on a specified cron expression,
 or as per specified {ultra.polling.start_delay, ultra.polling.repeat_interval, [ultra.polling.repeat_count]}</p>

 <p>The available properties are as follows:</p>
 <ul>
 <li>url - the email account URL e.g. user@domain.ext</li>
 <li>ultra.polling.start_delay - number of milliseconds to wait before starting</li>
 <li>ultra.polling.repeat_interval - interval between successive polling runs specified in milli seconds</li>
 <li>ultra.polling.repeat_count - the number of iterations to execute the service (default: infinite)</li>
 <li>ultra.polling.cron_expression - an optional 'cron' expression specifying polling schedule - instead of a
 ultra.polling.start_delay and ultra.polling.repeat_interval</li>
 <li>ultra.polling.concurrent - true implies concurrent polling by multiple threads</li>
 <li>ultra.mail.move_after_process - folder to move the email after successful processing</li>
 <li>ultra.mail.move_after_failure - folder to move the email that fail processing</li>
 <li>ultra.mail.leave_after_failure - leave mail on server after failure, but flag as read</li>
 <li>ultra.mail.leave_after_process - leave mail on server after processing, but flag as read</li>
 <li>ultra.mail.concurrent_polling_allowed - allow same email account to be polled in parallel; usually while one download is still
 pending (e.g. with a large email) if set to true. Default is false</li>
 <li>ultra.mail.process_in_parallel - process messages in parallel for better throughput if set to true. Default is false</li>
 <li>ultra.mail.folder - folder to poll for messages. Defaults to INBOX</li>
 <li>ultra.mail.preserve_headers - A comma separated list of headers to preserve as transport headers. All other headers will be dropped. e.g. "To, Subject, From"</li>
 <li>ultra.mail.remove_headers - A comma separated list of headers to remove. All other headers will be retained as transport headers of the message</li>
 <li>ultra.mail.main_part_identification_priority - A comma separated list of content types to select which part is considered as the main body in a email with attachments</li>
 <li><b>Any other common mail.pop3.* or mail.imap.* property</b></li>
 </ul>

 <p>Each Proxy service must define the service specific mail.pop3 or mail.imap properties such as:</p>
 <ul>
 <li>mail.imap.user or mail.pop3.user - user name</li>
 <li>mail.imap.password or mail.pop3.user - password</li>
 <li><b>And any other properties - such as those required for SSL (e.g. when using gmail)</b></li>
 </ul>

 <p>e.g. see sample # 501</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener</h3>
<code>org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener.PollingJob</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.adroitlogic.ultraesb.api.ConfigurationElement">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.adroitlogic.ultraesb.api.<a href="../../../../../org/adroitlogic/ultraesb/api/ConfigurationElement.html" title="interface in org.adroitlogic.ultraesb.api">ConfigurationElement</a></h3>
<code><a href="../../../../../org/adroitlogic/ultraesb/api/ConfigurationElement.State.html" title="class in org.adroitlogic.ultraesb.api">ConfigurationElement.State</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener</h3>
<code>PARAMETERS</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractTransportListener">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.adroitlogic.ultraesb.transport.base.<a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html" title="class in org.adroitlogic.ultraesb.transport.base">AbstractTransportListener</a></h3>
<code><a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#metrics">metrics</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#properties">properties</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#serverName">serverName</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#transportName">transportName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.adroitlogic.ultraesb.core.config.AbstractConfigurationElement">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.adroitlogic.ultraesb.core.config.AbstractConfigurationElement</h3>
<code>config, debugOn, deploymentUnit, derivedName, id, metricsEngine, outdated, state</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/adroitlogic/ultraesb/transport/mail/MailTransportListener.html#MailTransportListener()">MailTransportListener</a></strong>()</code>
<div class="block">Default constructor</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/adroitlogic/ultraesb/transport/mail/MailTransportListener.html#MailTransportListener(int)">MailTransportListener</a></strong>(int&nbsp;threads)</code>
<div class="block">Constructor specifying the number of threads to allocate</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener</h3>
<code>customizeJobDataMap, execute, maintenanceShutdown, onPoll, pause, registerProxyService, resume, start, stop, unregisterProxyService</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractTransportListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.adroitlogic.ultraesb.transport.base.<a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html" title="class in org.adroitlogic.ultraesb.transport.base">AbstractTransportListener</a></h3>
<code><a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#getAccessURLs(java.lang.String)">getAccessURLs</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#getDetails()">getDetails</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#init(java.lang.String)">init</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#resetStatistics()">resetStatistics</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#setProperties(java.util.Map)">setProperties</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#toBasicView()">toBasicView</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#toDetailedView()">toDetailedView</a>, <a href="../../../../../org/adroitlogic/ultraesb/transport/base/AbstractTransportListener.html#toDetailedViewExt(org.adroitlogic.ultraesb.jmx.view.TransportView)">toDetailedViewExt</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.adroitlogic.ultraesb.core.config.AbstractConfigurationElement">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.adroitlogic.ultraesb.core.config.AbstractConfigurationElement</h3>
<code>equals, getDeploymentUnit, getDerivedName, getId, getState, getStreamCount, getTimerStreamMax, getTimerStreamMean, getTimerStreamMin, getTimerStreamPer, hashCode, init, isDebugOn, isStarted, markAsOutdated, resetCounter, resetTimer, resolveMetricsStreams, setBeanName, setConfig, setDebugOn, setDerivedName, setId, setMetricsEngine, setState, throwIllegalStateException, undeploy</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.adroitlogic.ultraesb.api.ConfigurationElement">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.adroitlogic.ultraesb.api.<a href="../../../../../org/adroitlogic/ultraesb/api/ConfigurationElement.html" title="interface in org.adroitlogic.ultraesb.api">ConfigurationElement</a></h3>
<code><a href="../../../../../org/adroitlogic/ultraesb/api/ConfigurationElement.html#retire()">retire</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MailTransportListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MailTransportListener</h4>
<pre>public&nbsp;MailTransportListener()</pre>
<div class="block">Default constructor</div>
</li>
</ul>
<a name="MailTransportListener(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MailTransportListener</h4>
<pre>public&nbsp;MailTransportListener(int&nbsp;threads)</pre>
<div class="block">Constructor specifying the number of threads to allocate</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>threads</code> - threads to allocate to polling</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Copyright (c) 2010-2014 AdroitLogic Private Ltd. All rights reserved.</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/adroitlogic/ultraesb/transport/mail/MailTransportSender.html" title="class in org.adroitlogic.ultraesb.transport.mail"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/adroitlogic/ultraesb/transport/mail/MailTransportListener.html" target="_top">Frames</a></li>
<li><a href="MailTransportListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods_inherited_from_class_org.adroitlogic.ultraesb.transport.base.AbstractPollingTransportListener">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
